<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><title>XML source view</title><link rel="stylesheet" type="text/css" href="xmlverbatim.css"></link></head><body class="xmlverb-default"><tt>
<!-- converted by xmlverbatim.xsl 1.1, (c) O. Becker -->
<div xmlns:xd="http://www.pnp-software.com/XSLTdoc" class="xmlverb-default">&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e1">stylesheet</a></span><span class="xmlverb-ns-name"> xmlns:xsl</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/XSL/Transform</span>"<span class="xmlverb-ns-name"> xmlns:xs</span>="<span class="xmlverb-ns-uri">http://www.w3.org/2001/XMLSchema</span>"<span class="xmlverb-ns-name"> xmlns:xd</span>="<span class="xmlverb-ns-uri">http://www.pnp-software.com/XSLTdoc</span>"<span class="xmlverb-ns-name"> xmlns:xdt</span>="<span class="xmlverb-ns-uri">http://www.pnp-software.com/XSLTdocTemplate</span>"<span class="xmlverb-ns-name"> xmlns:util</span>="<span class="xmlverb-ns-uri">http://www.pnp-software.com/util</span>" <span class="xmlverb-attr-name">version</span>="<span class="xmlverb-attr-content">2.0</span>" <span class="xmlverb-attr-name">exclude-result-prefixes</span>="<span class="xmlverb-attr-content">#all</span>"&gt;<span class="xmlverb-text"><br></br>
                <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e3">import</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">stylesheet.xsl</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e5">include</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">verbatim/xmlverbatimwrapper.xsl</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e7">include</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">lib/util.xsl</span>" /&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e9">doc</a></span> <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">string</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e11">short</a></span>&gt;<span class="xmlverb-text">The directory in which the documentation should be generated.</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">short</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e14">detail</a></span>&gt;<span class="xmlverb-text"><br></br>
      The directory given<br></br>
      must be relative to root stylesheet which is being processed.<br></br>
      This parameter is used to compute the variable </span>&lt;<span class="xmlverb-element-name"><a name="d20e16">code</a></span>&gt;<span class="xmlverb-text">$targetDirUriAbs</span>&lt;/<span class="xmlverb-element-name">code</span>&gt;<span class="xmlverb-text">. If this parameter is not set<br></br>
      the </span>&lt;<span class="xmlverb-element-name"><a name="d20e19">code</a></span>&gt;<span class="xmlverb-text">$targetDirUriAbs</span>&lt;/<span class="xmlverb-element-name">code</span>&gt;<span class="xmlverb-text"> variable defaults a directory 'xsltdoc' which is created inside the same directory<br></br>
      in which the input stylesheet occurs.</span>&lt;<span class="xmlverb-element-name"><a name="d20e22">br</a></span> /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-name"><a name="d20e24">strong</a></span>&gt;<span class="xmlverb-text">Only used if the input is a stylesheet file. Not used if the input is a XSLTdocConfig XML file.</span>&lt;/<span class="xmlverb-element-name">strong</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">detail</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e29">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetDir</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">false()</span>" /&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e32">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
    Custom Stylesheets. Add additional (custom) css stylesheets here to override css rules from the standard css file (XSLTdoc.css). <br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e35">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">additionalCSS</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>" /&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  <br></br>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e37">doc</a></span> <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">stylesheet</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e39">short</a></span>&gt;<span class="xmlverb-text">Core XSLTdoc Stylesheet</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">short</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e42">detail</a></span>&gt;<span class="xmlverb-text"><br></br>
     This stylesheet<br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">detail</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e45">author</a></span>&gt;<span class="xmlverb-text">ibirrer</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">author</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e48">cvsId</a></span>&gt;<span class="xmlverb-text">$Id: core.xsl 41 2009-01-10 11:31:18Z ibirrer $</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">cvsId</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e51">copyright</a></span>&gt;<span class="xmlverb-text">2004, P&amp;amp;P Software GmbH</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">copyright</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
  <br></br>
  </span>&lt;!--<span class="xmlverb-comment"> Default output format, normally overwritten by importing stylesheet </span>--&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e57">output</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">xhtml</span>" <span class="xmlverb-attr-name">omit-xml-declaration</span>="<span class="xmlverb-attr-content">no</span>" <span class="xmlverb-attr-name">method</span>="<span class="xmlverb-attr-content">xhtml</span>" <span class="xmlverb-attr-name">doctype-public</span>="<span class="xmlverb-attr-content">-//W3C//DTD XHTML 1.0 Transitional//EN</span>" <span class="xmlverb-attr-name">doctype-system</span>="<span class="xmlverb-attr-content">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</span>" <span class="xmlverb-attr-name">indent</span>="<span class="xmlverb-attr-content">no</span>" <span class="xmlverb-attr-name">encoding</span>="<span class="xmlverb-attr-content">UTF-8</span>" /&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  </span>&lt;!--<span class="xmlverb-comment"> Output format for logfile </span>--&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e62">output</a></span> <span class="xmlverb-attr-name">method</span>="<span class="xmlverb-attr-content">xml</span>" <span class="xmlverb-attr-name">indent</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e64">doc</a></span>&gt;<span class="xmlverb-text"> <br></br>
    Root template if XSLTdoConfig file is used<br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e67">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">/xsl:stylesheet</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e69">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e71">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetDirUriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:normalizeFolder(resolve-uri(if( $targetDir ) then $targetDir else concat(util:getFolder(xs:string(base-uri(/))), 'xsltdoc/'), xs:string(base-uri(/)) ))</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e73">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">sourceRootUriAbs</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:getFolder(xs:string(base-uri(/)))</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e75">message</a></span>&gt;<span class="xmlverb-text">Generate documentation in: </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e77">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$targetDirUriAbs</span>" /&gt;&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">message</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e79">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">tmpConfig</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e81">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name($config)}</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e83">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/@*</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e85">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/*</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e87">targetDirUriAbs</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{$targetDirUriAbs}</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e89">sourceRootUriAbs</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{$sourceRootUriAbs}</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e94">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">extConfig</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e96">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$tmpConfig</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Read the files to be processed from the config file and save them in a filelist </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e101">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetList</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-name"><a name="d20e103">pagelist</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">stylesheets</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e105">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">buildStylesheetPagelist</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e107">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(base-uri(/))</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e109">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$sourceRootUriAbs</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e111">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$targetDirUriAbs</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-name">pagelist</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e116">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">generatePages</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;!--<span class="xmlverb-comment"> Append the filelist to the config variable </span>--&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e120">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:appendElement($extConfig,$stylesheetList)</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e124">doc</a></span>&gt;<span class="xmlverb-text"> <br></br>
    Root template if XSLTdocConfig file is used<br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e127">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">/XSLTdocConfig</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e129">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e131">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetDirUriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(resolve-uri(util:normalizeFolder(util:pathToUri(/XSLTdocConfig/TargetDirectory/@path)), xs:string(base-uri(/)) ))</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e133">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">sourceRootUriAbs</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;!--<span class="xmlverb-comment"> Backwards compatibility to old config files. </span>--&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e137">choose</a></span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e139">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">/XSLTdocConfig/SourceDirectory</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e141">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(resolve-uri(util:normalizeFolder(util:pathToUri(/XSLTdocConfig/SourceDirectory/@path)), xs:string(base-uri(/))))</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e144">otherwise</a></span>&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e146">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(resolve-uri(util:normalizeFolder(util:pathToUri(/XSLTdocConfig/RootStylesheets/@dir)), xs:string(base-uri(/))))</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e151">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">tmpConfig</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e153">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name($config)}</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e155">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/@*</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e157">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/*</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e159">targetDirUriAbs</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{$targetDirUriAbs}</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e161">sourceRootUriAbs</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{$sourceRootUriAbs}</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e163">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">AdditionalCSS</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-name"><a name="d20e165">additionalCSS</a></span>&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e167">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">AdditionalCSS/File</span>"&gt;<span class="xmlverb-text"><br></br>
              </span>&lt;<span class="xmlverb-element-name"><a name="d20e169">file</a></span> <span class="xmlverb-attr-name">uriAbs</span>="<span class="xmlverb-attr-content">{resolve-uri( @href , $targetDirUriAbs )}</span>"&gt;<span class="xmlverb-text"><br></br>
                </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e171">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">@media</span>"&gt;<span class="xmlverb-text"><br></br>
                  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e173">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@media</span>" /&gt;<span class="xmlverb-text"><br></br>
                </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br></br>
              </span>&lt;/<span class="xmlverb-element-name">file</span>&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;/<span class="xmlverb-element-name">additionalCSS</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e182">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">extConfig</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e184">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$tmpConfig</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Read the files to be processed from the config file and save them in a filelist </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e190">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetList</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e192">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">RootStylesheets/File</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e194">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">buildStylesheetPagelist</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e196">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(resolve-uri(@href, $sourceRootUriAbs))</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e198">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$sourceRootUriAbs</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e200">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$targetDirUriAbs</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Build distinct filelist eliminating file elements with the same @uri attribute </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e207">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">distinctStylesheetList</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-name"><a name="d20e209">pagelist</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">stylesheets</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e211">for-each-group</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$stylesheetList</span>" <span class="xmlverb-attr-name">group-by</span>="<span class="xmlverb-attr-content">@srcUriAbs</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e213">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each-group</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-name">pagelist</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e218">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">generatePages</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;!--<span class="xmlverb-comment"> Append the filelist to the config variable </span>--&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e222">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:appendElement(util:appendElement($extConfig,$distinctStylesheetList), /XSLTdocConfig)</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e226">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">*</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e228">copy</a></span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e230">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e232">apply-templates</a></span> <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">copy</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e237">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e239">copy</a></span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e241">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e243">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">@id</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e245">attribute</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uriAbs</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e247">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(resolve-uri( if( @targetFilename ) then @targetFilename else concat(@id, '.html'), ancestor::config/targetDirUriAbs/@href ))</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">attribute</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e250">attribute</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uriRel</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e252">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if( @targetFilename ) then @targetFilename else concat(@id, '.html')</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">attribute</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">copy</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e258">doc</a></span> <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">void</span>"&gt;<span class="xmlverb-text"><br></br>
    Generates each page given in the config parameter.<br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e261">template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">generatePages</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e263">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;!--<span class="xmlverb-comment"> To logfile <br></br>
       &lt;xsl:copy-of select="$config"/&gt;</span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e267">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">htmlTemplate</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc($config/htmlTemplate/@href)</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">document-node()</span>" /&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Generate one html page for each page in config </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e271">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/page</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e273">result-document</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{@uriAbs}</span>" <span class="xmlverb-attr-name">format</span>="<span class="xmlverb-attr-content">xhtml</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e275">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$htmlTemplate</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e277">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e279">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">result-document</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
   <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Generate one html page for each stylesheet </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e287">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist/page</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e289">result-document</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{@uriAbs}</span>" <span class="xmlverb-attr-name">format</span>="<span class="xmlverb-attr-content">xhtml</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e291">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$htmlTemplate</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e293">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e295">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">result-document</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Generate one highlighted sourcecode page for each stylesheet (using) </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e302">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist/page</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e304">result-document</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{@verbatimUriAbs}</span>" <span class="xmlverb-attr-name">format</span>="<span class="xmlverb-attr-content">xhtml</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e306">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">xmlverbwrapper</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e308">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">css-stylesheet</span>"&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e310">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat(util:getRelativeUri( util:getFolder(@uriAbs), $config/targetDirUriAbs/@href ), 'xmlverbatim.css')</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">with-param</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">result-document</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
**************************************<br></br>
 XSLTdoc HTML Templates<br></br>
**************************************<br></br>
</span>--&gt;<span class="xmlverb-text"><br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e319">doc</a></span>&gt;<span class="xmlverb-text">Identity template for XSLTdoc templates</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e322">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">*</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e324">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e326">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e328">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name(.)}</span>" <span class="xmlverb-attr-name">namespace</span>="<span class="xmlverb-attr-content">http://www.w3.org/1999/xhtml</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e330">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e332">apply-templates</a></span> <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e337">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  This template replaces the xdt:content element in the html template.<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e340">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">xdt:content</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e342">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e344">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e346">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$currentPage</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>" /&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e349">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  This template replaces the xdt:cssDeclaration element in the html template.<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e352">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">xdt:cssDeclaration</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e354">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e356">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-name"><a name="d20e358">link</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{concat(util:getRelativeUri( util:getFolder($currentPage/@uriAbs), $config/targetDirUriAbs/@href ), 'XSLTdoc.css')}</span>" <span class="xmlverb-attr-name">rel</span>="<span class="xmlverb-attr-content">stylesheet</span>" <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">text/css</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e360">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$config/additionalCSS</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e362">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/additionalCSS/file</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-name"><a name="d20e364">link</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{util:getRelativeUriFiles( @uriAbs, $currentPage/@uriAbs, true() )}</span>" <span class="xmlverb-attr-name">rel</span>="<span class="xmlverb-attr-content">stylesheet</span>" <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">text/css</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e366">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">@media</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e368">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@media</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-name">link</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text">  <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e375">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  Renders the site title<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e378">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">xdt:siteTitle</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e380">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e382">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e384">choose</a></span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e386">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$config/XSLTdocConfig</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e388">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($config/XSLTdocConfig/Title,' - ', $currentPage/@label)</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e391">otherwise</a></span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e393">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat('XSLTdoc - ', $currentPage/@label)</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e399">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  This template replaces the xdt:menuLinks element in the html template.<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e402">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">xdt:menuLinks</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e404">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e406">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e408">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/page[@menu='yes']</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e410">choose</a></span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e412">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$currentPage is .</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e414">a</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">menuLinkCurrent</span>" <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{util:getRelativeUriFiles( @uriAbs, $currentPage/@uriAbs, true() )}</span>"&gt;&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e415">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@label</span>" /&gt;&lt;/<span class="xmlverb-element-name">a</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e418">otherwise</a></span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e420">a</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">menuLink</span>" <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{util:getRelativeUriFiles( @uriAbs, $currentPage/@uriAbs, true() )}</span>"&gt;&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e421">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@label</span>" /&gt;&lt;/<span class="xmlverb-element-name">a</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e427">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  This stylesheet renders the content for pages definded in the 'stylesheet' pagelist.<br></br>
  It just applies the template rules to the root element of the stylesheets linked<br></br>
  in the page element. This calls the template rules defined in stylesheet.xsl.<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e430">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page[parent::pagelist[@id='stylesheets']]</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e432">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e434">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;!--<span class="xmlverb-comment"> Calls the templates defined in stylesheet.xsl </span>--&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e438">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">stylesheet</span>" /&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e441">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  This templates creates the content for a page with the name 'stylesheetList'.<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e444">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page[@id='stylesheetList']</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e446">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e448">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-name"><a name="d20e450">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">stylesheetList</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-name"><a name="d20e452">h1</a></span>&gt;<span class="xmlverb-text">Stylesheet List</span>&lt;/<span class="xmlverb-element-name">h1</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e455">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist[@id='stylesheets']/page</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e457">sort</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@srcDirAbs</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e459">sort</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@srcFilename</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-name"><a name="d20e461">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">listItem</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e463">span</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">declName</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-name"><a name="d20e465">a</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">declLink</span>" <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{@uriRel}</span>"&gt;&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e466">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@srcUriRel</span>" /&gt;&lt;/<span class="xmlverb-element-name">a</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-name">span</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e469">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">shortDoc</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e471">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)/xsl:stylesheet</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printShortDescription</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e479">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  This templates creates the content for a page with the name 'functionTemplateList'.<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e482">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page[@id='functionTemplateList']</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e484">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e486">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-name"><a name="d20e488">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">functionTemplateList</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-name"><a name="d20e490">h1</a></span>&gt;<span class="xmlverb-text">Functions/Templates List</span>&lt;/<span class="xmlverb-element-name">h1</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e493">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">allFunctions</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e495">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist[@id='stylesheets']/page</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e497">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">page</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e499">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)/xsl:stylesheet/xsl:function</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e501">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e503">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$page</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e508">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">allTemplates</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e510">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist[@id='stylesheets']/page</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e512">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">page</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e514">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)/xsl:stylesheet/xsl:template[@name]</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e516">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e518">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$page</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
    </span>&lt;<span class="xmlverb-element-name"><a name="d20e523">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">namedTemplatesSummary</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-name"><a name="d20e525">h2</a></span>&gt;<span class="xmlverb-text">Templates</span>&lt;/<span class="xmlverb-element-name">h2</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e528">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$allTemplates[self::xsl:template]</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e530">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">pos</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">position()</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e532">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">listItem</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e534">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printDeclaration</span>"&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e536">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">link</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($allTemplates[self::page][$pos]/@uriRel, '#', generate-id(.))</span>" /&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e538">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">verbatimUriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$allTemplates[self::page][$pos]/@verbatimUriRel</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-name"><a name="d20e541">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">shortDoc</span>"&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e543">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printShortDescription</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-name"><a name="d20e549">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">functionsSummary</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-name"><a name="d20e551">h2</a></span>&gt;<span class="xmlverb-text">Functions</span>&lt;/<span class="xmlverb-element-name">h2</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e554">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$allFunctions[self::xsl:function]</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e556">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">pos</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">position()</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e558">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">listItem</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e560">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printDeclaration</span>"&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e562">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">link</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($allFunctions[self::page][$pos]/@uriRel, '#', generate-id(.))</span>" /&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e564">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">verbatimUriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$allFunctions[self::page][$pos]/@verbatimUriRel</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-name"><a name="d20e567">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">shortDoc</span>"&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e569">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printShortDescription</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e577">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  This templates creates the content for a page with the name 'mainPage'.<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e580">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page[@id='mainPage']</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e582">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e584">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-name"><a name="d20e586">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">mainPage</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-name"><a name="d20e588">h1</a></span>&gt;&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e589">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/XSLTdocConfig/Title</span>" /&gt;&lt;/<span class="xmlverb-element-name">h1</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e591">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/XSLTdocConfig/Introduction/node()</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">namspace2xhtml</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e595">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">*</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">namspace2xhtml</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e597">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name(.)}</span>" <span class="xmlverb-attr-name">namespace</span>="<span class="xmlverb-attr-content">http://www.w3.org/1999/xhtml</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e599">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e601">apply-templates</a></span> <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">XdocTags</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"> <br></br>
****************************************<br></br>
* Named Templates<br></br>
****************************************<br></br>
 </span>--&gt;<span class="xmlverb-text"><br></br>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e608">doc</a></span>&gt;<span class="xmlverb-text"> <br></br>
    Builds a list of all stylesheet files by following the include and<br></br>
    import links in each stylesheet.<br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e610">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>"&gt;<span class="xmlverb-text">The URI of the stylesheet from which indcludes/imports should be followed to find files.</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">param</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e613">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>"&gt;<span class="xmlverb-text">The root directory to which relative paths should be built to.</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">param</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e617">template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">buildStylesheetPagelist</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e619">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(base-uri(.))</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e621">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e623">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetUri</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e625">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcUriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:normalizeUri($stylesheetUri)</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e627">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcDirAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:getFolder($srcUriAbs)</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e630">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcFilename</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:getFile($srcUriAbs)</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e632">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcDirRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:getRelativeUri($rootUri, util:getFolder($srcUriAbs))</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e634">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcUriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($srcDirRel, $srcFilename)</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e636">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($targetUri, $srcDirRel, $srcFilename, '.xd.html')</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e638">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($srcDirRel, $srcFilename, '.xd.html')</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e640">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">verbatimUriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($targetUri, $srcDirRel, $srcFilename, '.src.html')</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e643">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">verbatimUriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($srcDirRel, $srcFilename, '.src.html')</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-name"><a name="d20e645">page</a></span> <span class="xmlverb-attr-name">uriAbs</span>="<span class="xmlverb-attr-content">{$uriAbs}</span>" <span class="xmlverb-attr-name">uriRel</span>="<span class="xmlverb-attr-content">{$uriRel}</span>" <span class="xmlverb-attr-name">verbatimUriAbs</span>="<span class="xmlverb-attr-content">{$verbatimUriAbs}</span>" <span class="xmlverb-attr-name">verbatimUriRel</span>="<span class="xmlverb-attr-content">{$verbatimUriRel}</span>" <span class="xmlverb-attr-name">srcUriAbs</span>="<span class="xmlverb-attr-content">{$srcUriAbs}</span>" <span class="xmlverb-attr-name">srcUriRel</span>="<span class="xmlverb-attr-content">{$srcUriRel}</span>" <span class="xmlverb-attr-name">srcDirAbs</span>="<span class="xmlverb-attr-content">{$srcDirAbs}</span>" <span class="xmlverb-attr-name">srcFilename</span>="<span class="xmlverb-attr-content">{$srcFilename}</span>" <span class="xmlverb-attr-name">label</span>="<span class="xmlverb-attr-content">{$srcFilename}</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-name">page</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Follow import/includes </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e650">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">document($srcUriAbs)/xsl:stylesheet/xsl:include | document($srcUriAbs)/xsl:stylesheet/xsl:import</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e652">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">buildStylesheetPagelist</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e654">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(resolve-uri(@href, xs:string(base-uri(.))))</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e656">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$rootUri</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e658">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$targetUri</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">stylesheet</span>&gt;<br></br>
</div>
</tt><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br>v
         </body></html>
